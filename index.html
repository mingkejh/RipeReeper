<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>鲜醒果舱-RipeKeeper 智能催熟系统</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container app-container">
        <!-- 顶部标题栏 -->
        <header class="app-header">
            <div class="logo-container">
                <div class="logo-icon">
                        <img src="images/fruit_logo.png" alt="鲜醒果舱" width="40" height="40">
                    </div>
                <div class="logo-text">
                    <h1>鲜醒果舱</h1>
                    <p class="tagline">智能催熟保鲜系统</p>
                </div>
            </div>
            <div class="header-actions">
                <div class="system-status">
                    <span id="system-status-text" class="status-idle">待机</span>
                </div>
                <a href="#" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                </a>
            </div>
        </header>

        <!-- 主内容区 -->
        <div class="app-content">
            <!-- 模式选择 -->
            <div class="mode-selector">
                <h2 class="section-title">选择模式</h2>
                <div class="mode-tabs">
                    <button class="mode-tab active" data-mode="保鲜">
                        <i class="fas fa-snowflake"></i>
                        <span>保鲜</span>
                    </button>
                    <button class="mode-tab" data-mode="催熟">
                        <i class="fas fa-sun"></i>
                        <span>催熟</span>
                    </button>
                </div>
            </div>

            <!-- 分类选择 -->
            <div class="category-selector">
                <h2 class="section-title">选择分类</h2>
                <div class="category-tabs">
                    <button class="category-tab active" data-category="水果">
                        <i class="fas fa-apple-alt"></i>
                        <span>水果</span>
                    </button>
                    <button class="category-tab" data-category="蔬菜">
                        <i class="fas fa-seedling"></i>
                        <span>蔬菜</span>
                    </button>
                </div>
            </div>

            <!-- 蔬菜子分类选择 -->
            <div class="vegetable-subcategory-selector" style="display: none;">
                <h2 class="section-title">选择蔬菜</h2>
                <div class="subcategory-tabs">
                    <button class="subcategory-tab active" data-subcategory="叶菜">
                        <i class="fas fa-leaf"></i>
                        <span>叶菜类</span>
                    </button>
                    <button class="subcategory-tab" data-subcategory="根茎">
                        <i class="fas fa-carrot"></i>
                        <span>根茎类</span>
                    </button>
                    <button class="subcategory-tab" data-subcategory="菌菇">
                        <i class="fas fa-mushroom"></i>
                        <span>菌菇类</span>
                    </button>
                    <button class="subcategory-tab" data-subcategory="瓜茄">
                        <i class="fas fa-pepper-hot"></i>
                        <span>瓜茄类</span>
                    </button>
                    <button class="subcategory-tab" data-subcategory="豆苗">
                        <i class="fas fa-seedling"></i>
                        <span>豆苗类</span>
                    </button>
                </div>
            </div>

            <!-- 水果选择 -->
            <div class="fruit-selector">
                <h2 class="section-title">选择水果</h2>
                <div class="fruit-grid" id="fruit-grid">
                    <div class="fruit-item active" data-fruit="香蕉">
                        <div class="fruit-icon">🍌</div>
                        <div class="fruit-name">香蕉</div>
                    </div>
                    <div class="fruit-item" data-fruit="苹果">
                        <div class="fruit-icon">🍎</div>
                        <div class="fruit-name">苹果</div>
                    </div>
                    <div class="fruit-item" data-fruit="猕猴桃">
                        <div class="fruit-icon">🥝</div>
                        <div class="fruit-name">猕猴桃</div>
                    </div>
                    <div class="fruit-item" data-fruit="芒果">
                        <div class="fruit-icon">🥭</div>
                        <div class="fruit-name">芒果</div>
                    </div>
                    <div class="fruit-item" data-fruit="牛油果">
                        <div class="fruit-icon">🥑</div>
                        <div class="fruit-name">牛油果</div>
                    </div>
                    <div class="fruit-item" data-fruit="西红柿">
                        <div class="fruit-icon">🍅</div>
                        <div class="fruit-name">西红柿</div>
                    </div>
                    <div class="fruit-item" data-fruit="橙子">
                        <div class="fruit-icon">🍊</div>
                        <div class="fruit-name">橙子</div>
                    </div>
                    <div class="fruit-item" data-fruit="葡萄">
                        <div class="fruit-icon">🍇</div>
                        <div class="fruit-name">葡萄</div>
                    </div>
                    <div class="fruit-item" data-fruit="西瓜">
                        <div class="fruit-icon">🍉</div>
                        <div class="fruit-name">西瓜</div>
                    </div>
                    <div class="fruit-item" data-fruit="桃子">
                        <div class="fruit-icon">🍑</div>
                        <div class="fruit-name">桃子</div>
                    </div>
                    <div class="fruit-item" data-fruit="草莓">
                        <div class="fruit-icon">🍓</div>
                        <div class="fruit-name">草莓</div>
                    </div>
                    <div class="fruit-item" data-fruit="梨">
                        <div class="fruit-icon">🍐</div>
                        <div class="fruit-name">梨</div>
                    </div>
                    <div class="fruit-item" data-fruit="樱桃">
                        <div class="fruit-icon">🍒</div>
                        <div class="fruit-name">樱桃</div>
                    </div>
                    <div class="fruit-item" data-fruit="柠檬">
                        <div class="fruit-icon">🍋</div>
                        <div class="fruit-name">柠檬</div>
                    </div>
                    <div class="fruit-item" data-fruit="椰子">
                        <div class="fruit-icon">🥥</div>
                        <div class="fruit-name">椰子</div>
                    </div>
                    <div class="fruit-item" data-fruit="油桃">
                        <div class="fruit-icon">🍑</div>
                        <div class="fruit-name">油桃</div>
                    </div>
                    <div class="fruit-item" data-fruit="菠菜">
                        <div class="fruit-icon">🥬</div>
                        <div class="fruit-name">菠菜</div>
                    </div>
                    <div class="fruit-item" data-fruit="生菜">
                        <div class="fruit-icon">🥬</div>
                        <div class="fruit-name">生菜</div>
                    </div>
                    <div class="fruit-item" data-fruit="胡萝卜">
                        <div class="fruit-icon">🥕</div>
                        <div class="fruit-name">胡萝卜</div>
                    </div>
                    <div class="fruit-item" data-fruit="西兰花">
                        <div class="fruit-icon">🥦</div>
                        <div class="fruit-name">西兰花</div>
                    </div>
                    <div class="fruit-item" data-fruit="黄瓜">
                        <div class="fruit-icon">🥒</div>
                        <div class="fruit-name">黄瓜</div>
                    </div>
                    <div class="fruit-item" data-fruit="茄子">
                        <div class="fruit-icon">🍆</div>
                        <div class="fruit-name">茄子</div>
                    </div>
                    <div class="fruit-item" data-fruit="辣椒">
                        <div class="fruit-icon">🌶️</div>
                        <div class="fruit-name">辣椒</div>
                    </div>
                    <div class="fruit-item" data-fruit="土豆">
                        <div class="fruit-icon">🥔</div>
                        <div class="fruit-name">土豆</div>
                    </div>
                    <div class="fruit-item" data-fruit="洋葱">
                        <div class="fruit-icon">🧅</div>
                        <div class="fruit-name">洋葱</div>
                    </div>
                    <div class="fruit-item" data-fruit="大蒜">
                        <div class="fruit-icon">🧄</div>
                        <div class="fruit-name">大蒜</div>
                    </div>
                    <div class="fruit-item" data-fruit="菜心">
                        <div class="fruit-icon">🥬</div>
                        <div class="fruit-name">菜心</div>
                    </div>
                    <div class="fruit-item" data-fruit="芥蓝">
                        <div class="fruit-icon">🥬</div>
                        <div class="fruit-name">芥蓝</div>
                    </div>
                    <div class="fruit-item" data-fruit="空心菜">
                        <div class="fruit-icon">🥬</div>
                        <div class="fruit-name">空心菜</div>
                    </div>
                    <div class="fruit-item" data-fruit="西洋菜">
                        <div class="fruit-icon">🥬</div>
                        <div class="fruit-name">西洋菜</div>
                    </div>
                    <div class="fruit-item" data-fruit="蘑菇">
                        <div class="fruit-icon">🍄</div>
                        <div class="fruit-name">蘑菇</div>
                    </div>
                    <div class="fruit-item" data-fruit="香菇">
                        <div class="fruit-icon">🍄</div>
                        <div class="fruit-name">香菇</div>
                    </div>
                    <div class="fruit-item" data-fruit="金针菇">
                        <div class="fruit-icon">🍄</div>
                        <div class="fruit-name">金针菇</div>
                    </div>
                    <div class="fruit-item" data-fruit="豆芽">
                        <div class="fruit-icon">🌱</div>
                        <div class="fruit-name">豆芽</div>
                    </div>
                    <div class="fruit-item" data-fruit="芦笋">
                        <div class="fruit-icon">🥒</div>
                        <div class="fruit-name">芦笋</div>
                    </div>
                </div>
            </div>

            <!-- 选中水果信息 -->
            <div class="selected-fruit-card">
                <div class="fruit-header">
                    <div class="selected-fruit-icon">🍌</div>
                    <div class="selected-fruit-info">
                        <h3 id="selected-fruit-name">香蕉</h3>
                        <p id="selected-fruit-mode">保鲜模式</p>
                    </div>
                </div>
                
                <!-- 时间信息 -->
                <div class="time-info">
                    <div class="info-row">
                        <span class="info-label">预计时间</span>
                        <span class="time-value" id="time-to-ripen">3-5天</span>
                    </div>
                </div>
                
                <!-- AI分析结果 -->
                <div class="ai-analysis-section">
                    <h4>AI分析结果</h4>
                    <p class="ai-result" id="ai-simple-result">当前条件下可保存约4天</p>
                </div>
            </div>

            <!-- 视图切换 -->
            <div class="view-toggle">
                <div class="toggle-tabs">
                    <button id="simple-view-btn" class="toggle-tab active">
                        <i class="fas fa-eye"></i>
                        <span>简洁</span>
                    </button>
                    <button id="detailed-view-btn" class="toggle-tab">
                        <i class="fas fa-chart-bar"></i>
                        <span>详细</span>
                    </button>
                </div>
            </div>

            <!-- AI成熟度检测 -->
            <div class="ripeness-detection">
                <h2 class="section-title">
                    <i class="fas fa-brain"></i>
                    AI成熟度检测
                </h2>
                <div class="ripeness-content">
                    <button id="start-ripeness-btn" class="btn btn-primary">
                        <i class="fas fa-search"></i>
                        <span>开始检测</span>
                    </button>
                    <div id="ripeness-status" class="ripeness-status">点击开始检测</div>
                    <div id="ripeness-result" class="ripeness-result"></div>
                </div>
            </div>

            <!-- 控制按钮 -->
            <div class="control-buttons">
                <button id="start-btn" class="btn btn-primary">
                    <i class="fas fa-play"></i>
                    <span>开始</span>
                </button>
                <button id="stop-btn" class="btn btn-secondary">
                    <i class="fas fa-stop"></i>
                    <span>停止</span>
                </button>
                <button id="reset-btn" class="btn btn-tertiary">
                    <i class="fas fa-redo"></i>
                    <span>重置</span>
                </button>
            </div>

            <!-- 系统状态 -->
            <div class="system-status-section">
                <h2 class="section-title">系统状态</h2>
                <div class="status-card">
                    <div class="status-item">
                        <span class="status-label">当前状态</span>
                        <span id="current-state" class="status-value">待机</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">运行时间</span>
                        <span id="info-runtime" class="status-value">--</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">成熟度</span>
                        <span id="info-ripeness" class="status-value">0%</span>
                    </div>
                    <div class="status-item">
                        <span class="status-label">可放置天数</span>
                        <span id="info-days-left" class="status-value">--</span>
                    </div>
                </div>
            </div>

            <!-- 传感器数据 -->
            <div class="sensor-data-section">
                <h2 class="section-title">传感器数据</h2>
                <div class="sensor-grid">
                    <!-- 温度 -->
                    <div class="sensor-item">
                        <i class="fas fa-thermometer-half"></i>
                        <div class="sensor-info">
                            <span class="sensor-name">温度</span>
                            <span id="temp-value" class="sensor-value">--°C</span>
                        </div>
                    </div>
                    
                    <!-- 湿度 -->
                    <div class="sensor-item">
                        <i class="fas fa-tint"></i>
                        <div class="sensor-info">
                            <span class="sensor-name">湿度</span>
                            <span id="humidity-value" class="sensor-value">--%</span>
                        </div>
                    </div>
                    
                    <!-- 乙烯 -->
                    <div class="sensor-item">
                        <i class="fas fa-wind"></i>
                        <div class="sensor-info">
                            <span class="sensor-name">乙烯</span>
                            <span id="ethylene-value" class="sensor-value">--ppm</span>
                        </div>
                    </div>
                    
                    <!-- 氧气 -->
                    <div class="sensor-item">
                        <i class="fas fa-lungs"></i>
                        <div class="sensor-info">
                            <span class="sensor-name">氧气</span>
                            <span id="oxygen-value" class="sensor-value">--%</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 详细视图内容 -->
            <div id="detailed-content" class="detailed-content">
                <!-- 传感器数据图表 -->
                <div class="sensor-chart-section">
                    <h2 class="section-title">传感器数据</h2>
                    <div class="chart-container">
                        <canvas id="sensorChart" width="400" height="200"></canvas>
                    </div>
                </div>

                <!-- 详细系统信息 -->
                <div class="detailed-system-info">
                    <h2 class="section-title">系统详情</h2>
                    <div class="info-grid">
                        <div class="info-card">
                            <h4>执行器状态</h4>
                            <div id="actuators-status">
                                <!-- 执行器状态将通过JavaScript动态添加 -->
                            </div>
                        </div>
                        <div class="info-card">
                            <h4>传感器状态</h4>
                            <div id="sensors-status">
                                <!-- 传感器状态将通过JavaScript动态添加 -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 历史记录 -->
                <div class="history-section">
                    <h2 class="section-title">历史记录</h2>
                    <div class="history-container" id="history-list">
                        <!-- 历史记录将通过JavaScript动态添加 -->
                    </div>
                </div>
            </div>
        </div>

        <!-- 底部信息 -->
        <footer class="app-footer">
            <div class="footer-content">
                <div class="footer-left">
                    <span>鲜醒果舱-RipeKeeper v2.0</span>
                </div>
                <div class="footer-right">
                    <span id="last-update">最后更新: --:--:--</span>
                </div>
            </div>
        </footer>
    </div>

    <!-- JavaScript文件 -->
    <script src="js/script.js"></script>
</body>
</html>